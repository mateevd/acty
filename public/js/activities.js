!function(t){var a={};function e(i){if(a[i])return a[i].exports;var r=a[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=a,e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="/",e(e.s=14)}({14:function(t,a,e){t.exports=e(15)},15:function(t,a){$(function(){var t=localStorage.getItem("activities-tab-active");t?$('#activities-tab-selection a[href="'+t+'"]').tab("show"):$('#activities-tab-selection a[href="#mine"]').tab("show"),$('#activities-tab-selection a[data-toggle="tab"]').click(function(t){var a=$(t.target).attr("href");a||(a=$(this).attr("href")),localStorage.setItem("activities-tab-active",a),$('#activities-tab-selection a[href="'+a+'"]').tab("show")}),$(document).on("click","#downloadButton",function(){$("#exportTables").find("#type_activities").val("0"),$("#exportTables").find("#type_charges").val("0"),$("#exportTables #is_dates").attr("hidden",!0),$("#exportTables #date_error_gap").attr("hidden",!0),$("#exportTables #is_dates_personal").attr("hidden",!0),$("#exportTables #date_error_gap_personal").attr("hidden",!0)}),$(document).on("change","#type_charges",function(){1==$("#type_charges").val()?($("#exportTables #is_dates").attr("hidden",!1),$("#exportTables #charge_date_end").attr("required",!0),$("#exportTables #charge_date_start").attr("required",!0)):($("#exportTables #is_dates").attr("hidden",!0),$("#exportTables #charge_date_end").attr("required",!1),$("#exportTables #charge_date_start").attr("required",!1))}),$(document).on("change","#type_personal",function(){1==$("#type_personal").val()?($("#exportTables #is_dates_personal").attr("hidden",!1),$("#exportTables #personal_date_end").attr("required",!0),$("#exportTables #personal_date_start").attr("required",!0)):($("#exportTables #is_dates_personal").attr("hidden",!0),$("#exportTables #personal_date_end").attr("required",!1),$("#exportTables #personal_date_start").attr("required",!1))}),$(document).on("click","#createActivityButton",function(){$("#createActivity").find("#activity_name").val(""),$("#createActivity").find("#activity_code").val(""),$("#createActivity").find("#activity_manager").val(0),$("#createActivity").find("#activity_priority_id").val(null),$("#createActivity").find("#activity_state_id").val(1),$("#createActivity").find("#activity_business_id").val(0),$("#createActivity").find("#activity_start_p").val(null),$("#createActivity").find("#activity_type_id").val(null),$("#createActivity").find("#activity_date_requested").val(null),$("#createActivity").find("#activity_end_p").val(null),$("#createActivity").find("#activity_deputy").val(0),$("#createActivity").find("#activity_enveloppe").val(null),$("#createActivity").find("#activity_date_limit").val(null),$("#createActivity").find("#activity_description").val(""),$("#createActivity").find("#activity_private").val(0),$("#createActivity").find("#activity_charges_investment").val(null),$("#createActivity").find("#activity_charges_operation").val(null)}),$(document).on("click","#updateActivityButton",function(){var t=JSON.parse($(this).data("activity"));$.each(t,function(t,a){$("#updateActivity #"+t).val(a)}),$("#updateActivity #activity_id").text("id=".concat(t.activity_id)),$("#updateActivity #activity_name").text(t.activity_name)}),$(document).on("click","#detailsActivityButton",function(){var t=JSON.parse($(this).data("activity_name"));$("#detailsActivity #activity_name").text(t),$("#activity_details_table").empty(),$("#activitiesDetailsInput").val(""),$.getJSON("activities/details/"+$(this).data("activity_id"),function(t){$.each(t.tasksForPhase,function(t,a){var e=a.cra_validate,i=new Date(a.task_start_p),r=new Date(a.task_end_p),s=("0"+i.getDate()).slice(-2)+"/"+("0"+(i.getMonth()+1)).slice(-2)+"/"+i.getFullYear(),n=("0"+r.getDate()).slice(-2)+"/"+("0"+(r.getMonth()+1)).slice(-2)+"/"+r.getFullYear();if(null!=a.task_days_p||a.task_days_r)var c=a.task_days_p,d=a.task_days_r;else c=0,d=0;var l=$.number(a.task_days_p,3,","," "),o=$.number(a.task_days_r,3,","," "),v="<tr>";if(0==e){if(1==a.task_status)v='<tr class="tr-task-terminated">';if(2==a.task_status)v='<tr class="tr-task-not-validated">';if(3==a.task_status)v='<tr class="tr-task-validated">'}if(1==e){if(1==a.task_status)v='<tr class="tr-task-terminated">';if(2==a.task_status)v='<tr class="tr-task-not-validated">';if(3==a.task_status)v='<tr class="tr-task-validated">'}var p=$('<td class="text-left wrap-yes action-btn-no-body truncate-details">').attr("data-value",a.task_phase_name).text(a.task_phase_name),_=$('<td class="text-left wrap-yes truncate-large">').attr("data-value",a.task_name).text(a.task_name.concat(" (").concat(a.task_status).concat(")")),u=$('<td class="text-left wrap-yes truncate-details">').attr("data-value",a.task_full_name).text(a.task_full_name),y=$('<td class="text-left wrap-yes truncate-details">').attr("data-value",a.task_type_name).text(a.task_type_name),f=$('<td class="text-center wrap-yes truncate-small">').attr("data-value",a.task_start_p).text(s),h=$('<td class="text-center wrap-yes truncate-small">').attr("data-value",a.task_end_p).text(n),m=$('<td class="style-prevu text-right">').attr("data-value",c).text(l),x=$('<td class="style-realise text-right">').attr("data-value",d).text(o);$(v).append(p,_,u,y,f,h,m,x).appendTo("#activity_details_table")})})}),$(document).on("click","#deleteActivityButton",function(){var t=JSON.parse($(this).data("activity_id")),a=JSON.parse($(this).data("activity_name"));$("#deleteActivity #activity_id").val(t),$("#deleteActivity #activity_id").text("id=".concat(t)),$("#deleteActivity #activity_name").text(a)}),$(document).on("click","#terminateActivityButton",function(){var t=JSON.parse($(this).data("activity_id")),a=JSON.parse($(this).data("activity_name"));$("#terminateActivity #activity_name").text(a),$("#terminateActivity #activity_id").val(t)}),$(document).on("click","#activateActivityButton",function(){var t=JSON.parse($(this).data("activity_id")),a=JSON.parse($(this).data("activity_name"));$("#activateActivity #activity_name").text(a),$("#activateActivity #activity_id").val(t)}),$(document).on("click","#privacyActivityButton",function(){var t=JSON.parse($(this).data("activity_id")),a=JSON.parse($(this).data("activity_name"));$("#privacyActivity #activity_id").val(t),$("#privacyActivity #activity_name").text(a)}),$("#activity_create").submit(function(t){var a,e=!1,i="";$("#activity_create").find("select, textarea, input").each(function(){$(this).prop("hidden")||$(this).prop("required")&&($(this).val()||(e=!0,a=$(this).attr("name"),i+=a+" is required.\n"))}),console.log(i),e?t.preventDefault():$(this).find("#btn-submit-form").addClass("apply-spin")}),$("#activity_update").submit(function(t){var a,e=!1,i="";$("#activity_update").find("select, textarea, input").each(function(){$(this).prop("hidden")||$(this).prop("required")&&($(this).val()||(e=!0,a=$(this).attr("name"),i+=a+" is required.\n"))}),console.log(i),e?t.preventDefault():$(this).find("#btn-submit-form").addClass("apply-spin")}),$("#activity_export").submit(function(t){var a,e=!1,i="";$("#activity_export").find("select, textarea, input").each(function(){$(this).prop("hidden")||$(this).prop("required")&&($(this).val()||(e=!0,a=$(this).attr("name"),i+=a+" is required.\n"))}),console.log(i),e?t.preventDefault():$(this).find("#btn-submit-form").addClass("apply-spin")}),$("#charges_export").submit(function(t){var a,e=!1,i="";$("#charges_export").find("select, textarea, input").each(function(){$(this).prop("hidden")||$(this).prop("required")&&($("#exportTables #charge_date_end").val()&&$("#exportTables #charge_date_start").val()&&($("#exportTables #charge_date_end").val()<$("#exportTables #charge_date_start").val()?(e=!0,a=$("#exportTables #charge_date_end").attr("name"),name_start=$("#exportTables #charge_date_start").attr("name"),i+=a+" > "+name_start+".\n",$("#exportTables #date_error_gap").attr("hidden",!1)):$("#exportTables #date_error_gap").attr("hidden",!0)),$(this).val()||(e=!0,a=$(this).attr("name"),i+=a+" is required.\n"))}),console.log(i),e?t.preventDefault():($(this).find("#btn-submit-form").addClass("apply-spin"),$("#exportTables").modal("hide"))}),$("#personal_export").submit(function(t){var a,e=!1,i="";$("#personal_export").find("select, textarea, input").each(function(){$(this).prop("hidden")||$(this).prop("required")&&($("#exportTables #personal_date_end").val()&&$("#exportTables #personal_date_start").val()&&($("#exportTables #personal_date_end").val()<$("#exportTables #personal_date_start").val()?(e=!0,a=$("#exportTables #personal_date_end").attr("name"),name_start=$("#exportTables #personal_date_start").attr("name"),i+=a+" > "+name_start+".\n",$("#exportTables #date_error_gap_personal").attr("hidden",!1)):$("#exportTables #date_error_gap_personal").attr("hidden",!0)),$(this).val()||(e=!0,a=$(this).attr("name"),i+=a+" is required.\n"))}),console.log(i),e?t.preventDefault():($(this).find("#btn-submit-form").addClass("apply-spin"),$("#exportTables").modal("hide"))})}),function(){"use strict";window.addEventListener("load",function(){var t=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(t,function(t){t.addEventListener("submit",function(a){!1===t.checkValidity()&&(a.preventDefault(),a.stopPropagation()),t.classList.add("was-validated")},!1)})},!1)}()}});