!function(t){var a={};function e(d){if(a[d])return a[d].exports;var s=a[d]={i:d,l:!1,exports:{}};return t[d].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=t,e.c=a,e.d=function(t,a,d){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:d})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="/",e(e.s=38)}({38:function(t,a,e){t.exports=e(39)},39:function(t,a){$(function(){var t=localStorage.getItem("wdays-tab-active");t?$('#wdays-tab-selection a[href="'+t+'"]').tab("show"):$('#wdays-tab-selection a[href="#times_user"]').tab("show"),$('#wdays-tab-selection a[data-toggle="tab"]').click(function(t){var a=$(t.target).attr("href");a||(a=$(this).attr("href")),localStorage.setItem("wdays-tab-active",a),$('#wdays-tab-selection a[href="'+a+'"]').tab("show")}),$(document).on("click","#addHoursButton",function(){$("#addHours #is_history").attr("hidden",!0),$("#addHours").find("#work_day_days").attr("count",0),$("#addHours").find("#work_day_days").attr("value",0),$("#addHours").find("#hours").attr("count",0),$("#addHours").find("#hours").attr("value",0);var t=JSON.parse($(this).data("task_show"));if(t.task_start_p){var a=new Date(t.task_start_p),e=("0"+(a.getMonth()+1)).slice(-2)+"/"+a.getFullYear();$("#addHours #task_date").text("(".concat(e).concat(")"))}t.task_description?($("#addHours #is_description").attr("hidden",!1),$("#addHours #task_description").text(t.task_description)):$("#addHours #is_description").attr("hidden",!0),$("#addHours #task_name").text(t.task_name),$("#addHours #task_type").text(t.task_type_name),$("#addHours #phase_id").val(parseInt(t.phase_id)),$("#addHours #task_id").val(parseInt(t.task_id)),$("#addHours #task_id").text("id=".concat(t.task_id)),$("#addHours #task_phase_name").text(t.phase_name),$("#addHours #activity_id").val(parseInt(t.activity_id)),$("#addHours #task_activity_name").text(t.activity_name),$("#addHours #task_activity_cpi_name").text(t.full_name_manager),$.getJSON("wdays/show/"+t.task_id,function(t){$("#wdays_table").empty(),$.each(t.workDays,function(t,a){$("#addHours #is_history").attr("hidden",!1);var e=new Date(a.work_day_date),d=("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear(),s=parseFloat(a.work_day_days),r=s.toString().replace(","," ").replace(".",","),i="<tr>";1==a.work_day_status&&(i='<tr class="tr-task-terminated">'),2==a.work_day_status&&(i='<tr class="tr-task-not-validated">'),3==a.work_day_status&&(i='<tr class="tr-task-validated">');var n="(".concat(a.work_day_status).concat(")");a.work_day_description&&(n=a.work_day_description.concat(n));var l=$("<td>").attr("class","text-right").attr("data-value",s).text(r),c=$("<td>").attr("class","text-center").attr("data-value",a.work_day_date).text(d),o=$("<td>").attr("class","wrap-yes truncate-large").attr("data-value",a.work_day_description).text(n),_=$("<td>").attr("class","text-center").attr("data-value",a.user_trigramme).text(a.user_trigramme);$(i).append(l,c,o,_).appendTo("#wdays_table")})}),$("#addHours #work_day_days").val(0),$("#addHours #hours").val(0);var d=0;$("#hoursBtns .modal-custom-btn-hours").on("click",function(){var t=parseFloat($(this).attr("value"));d+=t,$("#addHours").find("#work_day_days").attr("count",d),$("#addHours").find("#work_day_days").val(d),$("#addHours").find("#hours").attr("count",8*d),$("#addHours").find("#hours").val(8*d)}),$("#delhoursBtn .modal-custom-btn-hours-reset").on("click",function(){d=0,$("#addHours #work_day_days").val(0),$("#addHours #hours").val(0),$("#addHours").find("#work_day_days").attr("count",0),$("#addHours").find("#work_day_days").attr("value",0),$("#addHours").find("#hours").attr("count",0),$("#addHours").find("#hours").attr("value",0)})}),$(document).on("click","#editTimeButton",function(){$("#editTime").find("#work_day_days").attr("count",0),$("#editTime").find("#work_day_days").attr("value",0),$("#editTime").find("#hours").attr("count",0),$("#editTime").find("#hours").attr("value",0);var t=JSON.parse($(this).data("work_day"));t.task_description?($("#editTime #is_description").attr("hidden",!1),$("#editTime #task_description").text(t.task_description)):$("#editTime #is_description").attr("hidden",!0),$("#editTime #task_name").text(t.task_name),$("#editTime #task_type").text(t.task_type_name),$("#editTime #phase_id").val(parseInt(t.phase_id)),$("#editTime #task_id").val(parseInt(t.task_id)),$("#editTime #work_day_id").val(parseInt(t.work_day_id)),$("#editTime #work_day_id").text("id=".concat(t.work_day_id)),$("#editTime #work_day_description").val(t.work_day_description),$("#editTime #task_phase_name").text(t.phase_name),$("#editTime #activity_id").val(parseInt(t.activity_id)),$("#editTime #task_activity_name").text(t.activity_code),$("#editTime #task_activity_cpi_name").text(t.activity_manager),$("#editTime #work_day_date").val(t.work_day_date);var a=parseFloat(t.work_day_hours);$("#editTime #work_day_days").val(a),$("#editTime #hours").val(8*a),$("#hoursBtns .modal-custom-btn-hours").on("click",function(){var t=parseFloat($(this).attr("value"));a+=t,$("#editTime").find("#work_day_days").attr("count",a),$("#editTime").find("#work_day_days").val(a),$("#editTime").find("#hours").attr("count",8*a),$("#editTime").find("#hours").val(8*a)}),$("#delhoursBtn .modal-custom-btn-hours-reset").on("click",function(){a=parseFloat(t.work_day_hours),$("#editTime #work_day_days").val(a),$("#editTime #hours").val(8*a),$("#editTime").find("#work_day_days").attr("count",0),$("#editTime").find("#work_day_days").attr("value",0),$("#editTime").find("#hours").attr("count",0),$("#editTime").find("#hours").attr("value",0)})}),$(document).on("click","#btn-submit-form",function(){$("#editTime #work_day_days").attr("disabled",!1),$("#addHours #work_day_days").attr("disabled",!1)}),$(document).on("click","#deleteTimeButton",function(){var t=JSON.parse($(this).data("work_day_id")),a=JSON.parse($(this).data("task_id")),e=JSON.parse($(this).data("phase_id")),d=JSON.parse($(this).data("activity_id"));$("#deleteTime #work_day_id").val(t),$("#deleteTime #task_id").val(a),$("#deleteTime #phase_id").val(e),$("#deleteTime #activity_id").val(d),$("#deleteTime #work_day_id").text("id=".concat(t))}),$(document).on("click","#validateWD-btn",function(){var t=JSON.parse($(this).data("user_name")),a=JSON.parse($(this).data("user_id")),e=JSON.parse($(this).data("current_month")),d=JSON.parse($(this).data("current_year"));$("#validateWD #user_name").text(t),$("#validateWD #user_id").val(a),$("#validateWD #user_id_in").val(a),$("#validateWD #current_month").val(e),$("#validateWD #current_year").val(d),$("#validateWD #user_id").text("id=".concat(a)),$("#wd_validate_table").empty(),$("#wd_validate_input").val(""),$.getJSON("wdays/details_to_validate/"+a+"/"+e+"/"+d,function(t){$("#wd_validate_table").empty(),$.each(t.WD_to_validate,function(t,a){var e,d=("0"+(e=new Date(a.wd_date)).getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear(),s=("0"+((e=new Date(a.task_start_p)).getMonth()+1)).slice(-2)+"/"+e.getFullYear(),r=parseFloat(a.wd_days),i=r.toLocaleString(void 0,{minimumFractionDigits:3}),n="<tr>";1==a.wd_status&&(n='<tr class="tr-task-terminated">'),2==a.wd_status&&(n='<tr class="tr-task-not-validated">'),3==a.wd_status&&(n='<tr class="tr-task-validated">');var l="(".concat(a.wd_id).concat("-").concat(a.wd_status).concat(")");a.wd_description&&(l=a.wd_description.concat(l));var c=$("<td>").attr("class","pad-h-none"),o=$("<div>").attr("class","flex-row flex-wrap-yes justify-center align-center width-rem-3"),_=$("<input>").attr("class","multi-wd-select-checkboxes").attr("type","checkbox").attr("name","selectWDs[]").attr("value",a.wd_id),u=c.append(o.append(_)),v=$('<td class="text-left truncate-details">').attr("data-value",a.activity_code).text(a.activity_code),y=$('<td class="text-left truncate-details">').attr("data-value",a.phase_name).text(a.phase_name),p=$('<td class="text-left truncate-details">').attr("data-value",a.task_name).text(a.task_name.concat(" - ").concat(a.task_status)),m=$('<td class="text-left truncate-details">').attr("data-value",a.task_type_name).text(a.task_type_name),h=$('<td class="text-center truncate-details">').attr("data-value",a.task_start_p).text(s),k=$("<td>").attr("class","text-center").attr("data-value",a.wd_date).text(d),w=$("<td>").attr("class","text-left wrap-yes truncate-large").attr("data-value",a.work_day_description).text(l),f=$('<td class="style-realise text-right">').attr("data-value",r).text(i);$(n).append(u,v,y,p,m,h,k,w,f).appendTo("#wd_validate_table")})})}),$(document).on("click","#denyWD-btn",function(){var t=JSON.parse($(this).data("user_name")),a=JSON.parse($(this).data("user_id")),e=JSON.parse($(this).data("current_month")),d=JSON.parse($(this).data("current_year"));$("#denyWD #user_name").text(t),$("#denyWD #user_id").val(a),$("#denyWD #user_id_in").val(a),$("#denyWD #current_month").val(e),$("#denyWD #current_year").val(d),$("#denyWD #user_id").text("id=".concat(a)),$("#wd_deny_table").empty(),$("#wd_deny_input").val(""),$.getJSON("wdays/details_to_deny/"+a+"/"+e+"/"+d,function(t){$("#wd_deny_table").empty(),$.each(t.WD_to_deny,function(t,a){var e,d=("0"+(e=new Date(a.wd_date)).getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear(),s=("0"+((e=new Date(a.task_start_p)).getMonth()+1)).slice(-2)+"/"+e.getFullYear(),r=parseFloat(a.wd_days),i=r.toLocaleString(void 0,{minimumFractionDigits:3}),n="<tr>";1==a.wd_status&&(n='<tr class="tr-task-terminated">'),2==a.wd_status&&(n='<tr class="tr-task-not-validated">'),3==a.wd_status&&(n='<tr class="tr-task-validated">');var l="(".concat(a.wd_id).concat("-").concat(a.wd_status).concat(")");a.wd_description&&(l=a.wd_description.concat(l));var c=$("<td>").attr("class","pad-h-none"),o=$("<div>").attr("class","flex-row flex-wrap-yes justify-center align-center width-rem-3"),_=$("<input>").attr("class","multi-wd-select-checkboxes").attr("type","checkbox").attr("name","selectWDs[]").attr("value",a.wd_id),u=c.append(o.append(_)),v=$('<td class="text-left truncate-details">').attr("data-value",a.activity_code).text(a.activity_code),y=$('<td class="text-left truncate-details">').attr("data-value",a.phase_name).text(a.phase_name),p=$('<td class="text-left truncate-details">').attr("data-value",a.task_name).text(a.task_name.concat(" - ").concat(a.task_status)),m=$('<td class="text-left truncate-details">').attr("data-value",a.task_type_name).text(a.task_type_name),h=$('<td class="text-center truncate-details">').attr("data-value",a.task_start_p).text(s),k=$("<td>").attr("class","text-center").attr("data-value",a.wd_date).text(d),w=$("<td>").attr("class","text-left wrap-yes truncate-large").attr("data-value",a.work_day_description).text(l),f=$('<td class="style-realise text-right">').attr("data-value",r).text(i);$(n).append(u,v,y,p,m,h,k,w,f).appendTo("#wd_deny_table")})})}),$("#wday_validate").submit(function(t){var a=[];$(".multi-wd-select-checkboxes").each(function(){$(this).is(":checked")&&a.push(this.value)}),$("#validateWD #wd_id").val(a)}),$("#wday_deny").submit(function(t){var a=[];$(".multi-wd-select-checkboxes").each(function(){$(this).is(":checked")&&a.push(this.value)}),$("#denyWD #wd_id").val(a)}),$(document).on("click","#validateUserAllWD-btn",function(){var t=JSON.parse($(this).data("user_name")),a=JSON.parse($(this).data("user_id")),e=JSON.parse($(this).data("current_month")),d=JSON.parse($(this).data("current_year"));$("#validateUserAllWD #user_name").text(t),$("#validateUserAllWD #user_id").val(a),$("#validateUserAllWD #user_id_in").val(a),$("#validateUserAllWD #current_month").val(e),$("#validateUserAllWD #current_year").val(d),$("#validateUserAllWD #user_id").text("id=".concat(a))}),$(document).on("click","#denyUserAllWD-btn",function(){var t=JSON.parse($(this).data("user_name")),a=JSON.parse($(this).data("user_id")),e=JSON.parse($(this).data("current_month")),d=JSON.parse($(this).data("current_year"));$("#denyUserAllWD #user_name").text(t),$("#denyUserAllWD #user_id").val(a),$("#denyUserAllWD #user_id_in").val(a),$("#denyUserAllWD #current_month").val(e),$("#denyUserAllWD #current_year").val(d),$("#denyUserAllWD #user_id").text("id=".concat(a))}),$(document).on("click","#validateAllWD-btn",function(){var t=JSON.parse($(this).data("user_id")),a=JSON.parse($(this).data("current_month")),e=JSON.parse($(this).data("current_year"));$("#validateAllWD #user_id").val(t),$("#validateAllWD #user_id_in").val(t),$("#validateAllWD #current_month").val(a),$("#validateAllWD #current_year").val(e),$("#validateAllWD #user_id").text("id=".concat(t))}),$(document).on("click","#denyAllWD-btn",function(){var t=JSON.parse($(this).data("user_id")),a=JSON.parse($(this).data("current_month")),e=JSON.parse($(this).data("current_year"));$("#denyAllWD #user_id").val(t),$("#denyAllWD #user_id_in").val(t),$("#denyAllWD #current_month").val(a),$("#denyAllWD #current_year").val(e),$("#denyAllWD #user_id").text("id=".concat(t))}),$("#wday_create").submit(function(t){var a,e=!1,d="";$("#wday_create").find("select, textarea, input").each(function(){$(this).prop("hidden")||$(this).prop("required")&&($(this).val()||(e=!0,a=$(this).attr("name"),d+=a+" is required.\n"))}),console.log(d),e?t.preventDefault():$(this).find("#btn-submit-form").addClass("apply-spin")}),$("#wday_update").submit(function(t){var a,e=!1,d="";$("#wday_update").find("select, textarea, input").each(function(){$(this).prop("hidden")||$(this).prop("required")&&($(this).val()||(e=!0,a=$(this).attr("name"),d+=a+" is required.\n"))}),console.log(d),e?t.preventDefault():$(this).find("#btn-submit-form").addClass("apply-spin")})})}});